<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§™‡§∞‡§ø‡§∑‡§¶ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</title>
        <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Poppins:wght@600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --p-blue: #003366; 
            --s-green: #28a745; 
            --err: #dc3545; 
            --light-bg: #eef2f3;
            --Pink: #00BFFF; 
            --maroon: #800000;  
        }
        body { font-family: 'Poppins', sans-serif; background: var(--light-bg); margin: 0; padding: 15px; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
        
        /* ‡§π‡•á‡§°‡§∞ ‡§µ‡§ø‡§≠‡§æ‡§ó ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ */
        .header-section { 
            display: flex; 
            align-items: center; 
            border-bottom: 4px solid var(--s-green); 
            padding-bottom: 20px; 
            margin-bottom: 25px;
            position: relative;
        }

        /* ‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤ ‡§µ‡§ø‡§≠‡§æ‡§ó */
        .profile-area { 
            display: flex;
            flex-direction: column;
            align-items: center; 
            width: fit-content;
            min-width: 180px;
        }

        .profile-img { 
            width: 150px; 
            height: 150px; 
            border-radius: 50%; 
            border: 4px solid var(--p-blue); 
            object-fit: cover; 
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            margin-bottom: 8px;
        }

        .profile-name { 
            font-weight: bold; 
            color: var(--p-blue); 
            font-size: 1.1rem;
            text-align: center; 
            width: 100%;
        }
        
        /* ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï */
        h1 { 
            color: var(--maroon); 
            margin: 0; 
            font-family: 'Cinzel', serif; 
            font-size: 2.2rem; 
            flex-grow: 1;
            text-align: center;
            padding-right: 180px; 
        }
        
        /* ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ü‡§£‡§ø ‡§¨‡§ü‡§£ ‡§∏‡•ç‡§ü‡§æ‡§à‡§≤‡•ç‡§∏ */
        .dept-banner { background: var(--p-blue); color: white; padding: 15px; margin: 20px 0 10px; border-radius: 6px; font-weight: bold; font-size: 1.2rem; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .dept-banner:after { content: '‚ñº'; font-size: 14px; }
        .form-area { display: none; padding: 25px; background: #fafafa; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; }
        .sub-points-container { display: none; margin-bottom: 20px; border-left: 4px solid var(--s-green); padding-left: 10px; }
        .sub-point-box { border: 1px solid #ddd; margin-bottom: 8px; border-radius: 8px; overflow: hidden; background: #fff; }
        .sub-header { padding: 12px 15px; cursor: pointer; font-weight: 600; display: flex; justify-content: space-between; align-items: center; background: #fdfdfd; font-size: 1rem; color: #333; }
        .sub-header:after { content: '‚úé'; font-size: 14px; color: var(--s-green); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .full { grid-column: span 2; }
        .section-label { background: #e9ecef; padding: 10px 15px; font-weight: bold; border-left: 5px solid var(--p-blue); margin: 20px 0 10px; border-radius: 4px; }
        label { display: block; margin-bottom: 8px; font-size: 14px; font-weight: bold; color: #444; }
        input[type="text"], input[type="tel"], textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 14px; }
        .invalid-field { border: 2px solid var(--err) !important; background-color: #fff8f8; }
        .btn-submit { background-color: var(--s-green); color: white; border: none; padding: 15px 60px; border-radius: 50px; cursor: pointer; font-size: 18px; font-weight: bold; margin: 20px auto; display: block; }
        
        /* ‡§™‡§æ‡§µ‡§§‡•Ä ‡§∏‡•ç‡§ü‡§æ‡§à‡§≤ */
        .receipt-card { border: 2px solid var(--p-blue); padding: 25px; border-radius: 12px; background: white; margin-top: 20px; }
        .info-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .info-table td { padding: 12px; border: 1px solid #eee; font-size: 14px; }
        .info-table td:first-child { font-weight: bold; background: #f8f9fa; width: 35%; color: var(--p-blue); }
        
        .footer-btns { display: flex; gap: 15px; justify-content: center; margin-top: 25px; }
        .btn-print { padding: 12px 25px; background: var(--p-blue); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-back { padding: 12px 25px; background: #6c757d; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }

        /* --- ‡§Æ‡§π‡§§‡•ç‡§§‡•ç‡§µ‡§æ‡§ö‡•Ä ‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡§æ: PDF/PRINT ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§¨‡§ü‡§£‡•á ‡§≤‡§™‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä --- */
        @media print { 
            .footer-btns, .btn-print, .btn-back { 
                display: none !important; 
            } 
        }

        @media (max-width: 768px) { 
            .header-section { flex-direction: column; text-align: center; }
            h1 { padding-right: 0; font-size: 1.8rem; margin-top: 20px; }
            .profile-area { margin-bottom: 15px; }
            .grid { grid-template-columns: 1fr; }
            .full { grid-column: span 1; }
        }
    </style>
</head>
<body>

<div class="container">
    <div id="portal-content">
        <div class="header-section">
            <div class="profile-area">
                <img src="https://github.com/teliprathmesh42-hub/Prathmesh-/blob/main/Image.jpeg?raw=true" 
                     alt="‡§Æ‡§æ.‡§∂‡•ç‡§∞‡•Ä. ‡§Ö‡§∞‡•ç‡§ú‡•Å‡§® ‡§Ü‡§¨‡§ø‡§ü‡§ï‡§∞" class="profile-img">
                <div class="profile-name">‡§Æ‡§æ.‡§∂‡•ç‡§∞‡•Ä. ‡§Ö‡§∞‡•ç‡§ú‡•Å‡§® ‡§Ü‡§¨‡§ø‡§ü‡§ï‡§∞</div>
            </div>
            <h1>‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§™‡§∞‡§ø‡§∑‡§¶ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä</h1>
        </div>

        <div class="dept-banner" onclick="toggleVayaktikForm()">‡•ß. ‡§µ‡•à‡§Ø‡§ï‡•ç‡§§‡§ø‡§ï ‡§ï‡§æ‡§Æ‡•á</div>
        <div id="vayaktik-form-area" class="form-area"></div>
        <div id="main-content"></div>
    </div>
</div>

<template id="complete-form-template">
    <div class="form-content-wrapper">
        <form onsubmit="return false;" novalidate>
            <div class="section-label">‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≠‡§∞‡§æ (‡§Æ‡§∞‡§æ‡§†‡•Ä ‡§Ü‡§£‡§ø ‡§á‡§Ç‡§ó‡•ç‡§∞‡§ú‡•Ä) </div>
            <div class="grid">
                <div class="full"><label>‡§®‡§æ‡§µ :</label><input type="text" name="‡§®‡§æ‡§µ" required placeholder="‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ ‡§≤‡§ø‡§π‡§æ" oninput="validateOnType(this)"></div>
                <div class="full"><label>‡§™‡§§‡•ç‡§§‡§æ :</label><input type="text" name="‡§™‡§§‡•ç‡§§‡§æ" required placeholder="‡§™‡•Ç‡§∞‡•ç‡§£ ‡§™‡§§‡•ç‡§§‡§æ ‡§≤‡§ø‡§π‡§æ" oninput="validateOnType(this)"></div>
                <div class="full">
                    <label>‡§§‡§æ‡§≤‡•Å‡§ï‡§æ ‡§®‡§ø‡§µ‡§°‡§æ :</label>
                    <div style="display:flex; gap:15px; padding:5px 0;">
                        <label><input type="radio" name="‡§§‡§æ‡§≤‡•Å‡§ï‡§æ" value="Bhudargad" required onclick="validateOnType(this)"> ‡§≠‡•Å‡§¶‡§∞‡§ó‡§°</label>
                        <label><input type="radio" name="‡§§‡§æ‡§≤‡•Å‡§ï‡§æ" value="Aajara" onclick="validateOnType(this)"> ‡§Ü‡§ú‡§∞‡§æ</label>
                        <label><input type="radio" name="‡§§‡§æ‡§≤‡•Å‡§ï‡§æ" value="Radhanagari" onclick="validateOnType(this)">‡§∞‡§æ‡§ß‡§æ‡§®‡§ó‡§∞‡•Ä</label>
                    </div>
                </div>
                <div class="full"><label>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§®‡§Ç‡§¨‡§∞ :</label><input type="tel" name="‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤" maxlength="10" placeholder="‡•ß‡•¶ ‡§Ö‡§Ç‡§ï‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§®‡§Ç‡§¨‡§∞" required oninput="validateOnType(this)"></div>
                <div class="full"><label>‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™ :</label><textarea name="‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á_‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™" rows="4" required placeholder="‡§Ø‡•á‡§•‡•á ‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§∏‡§µ‡§ø‡§∏‡•ç‡§§‡§∞ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≤‡§ø‡§π‡§æ..." oninput="validateOnType(this)"></textarea></div>
                <div class="full"><label>‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï :</label><input type="text" name="‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï" class="auto-date" readonly style="background: #eee;"></div>
            </div>
            <button type="button" class="btn-submit" onclick="submitToReceipt(this)">‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ</button>
        </form>
    </div>
</template>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwPS3LRxZXNanNV1Uz0QpB21IHl_qvteRPBNOD8XRcBJtsPDn4hWCdrb4r2hqHYFaQ8/exec';
    
    const sections = [
        { title: "‡•®. ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§∂‡§æ‡§≤‡•á‡§Ø ‡§™‡•ã‡§∑‡§£ ‡§Ü‡§π‡§æ‡§∞", "‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï ‡§∂‡§æ‡§≥‡§æ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®", "‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ‡§ø‡§ï ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ø‡•ã‡§ú‡§®‡§æ", "‡§∏‡§æ‡§ï‡•ç‡§∑‡§∞‡§§‡§æ ‡§Ö‡§≠‡§ø‡§Ø‡§æ‡§®", "‡§∂‡§ø‡§ï‡•ç‡§∑‡§ï ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£"] },
        { title: "‡•©. ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∞‡•Å‡§ó‡•ç‡§£‡§æ‡§≤‡§Ø ‡§∏‡•á‡§µ‡§æ", "‡§≤‡§∏‡•Ä‡§ï‡§∞‡§£ ‡§Æ‡•ã‡§π‡•Ä‡§Æ", "‡§Æ‡§æ‡§§‡§æ-‡§¨‡§æ‡§≤ ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø", "‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§≠‡§æ‡§∞‡§§ ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä"] },
        { title: "‡•™. ‡§ï‡•É‡§∑‡•Ä ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§¨‡§ø‡§Ø‡§æ‡§£‡•á ‡§µ ‡§ñ‡§§‡•á ‡§µ‡§æ‡§ü‡§™", "‡§ï‡•É‡§∑‡•Ä ‡§Ö‡§µ‡§ú‡§æ‡§∞‡•á ‡§Ö‡§®‡•Å‡§¶‡§æ‡§®", "‡§´‡§≥‡§¨‡§æ‡§ó ‡§≤‡§æ‡§ó‡§µ‡§°", "‡§†‡§ø‡§¨‡§ï ‡§∏‡§ø‡§Ç‡§ö‡§® ‡§Ø‡•ã‡§ú‡§®‡§æ"] },
        { title: "‡•´. ‡§™‡§∂‡•Å‡§∏‡§Ç‡§µ‡§∞‡•ç‡§ß‡§® ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§™‡§∂‡•Å‡§µ‡•à‡§¶‡•ç‡§Ø‡§ï‡•Ä‡§Ø ‡§î‡§∑‡§ß‡•ã‡§™‡§ö‡§æ‡§∞", "‡§¶‡•Å‡§ó‡•ç‡§ß ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§µ‡§ø‡§ï‡§æ‡§∏", "‡§∂‡•á‡§≥‡•Ä ‡§™‡§æ‡§≤‡§® ‡§Ö‡§®‡•Å‡§¶‡§æ‡§®"] },
        { title: "‡•¨. ‡§™‡§æ‡§£‡•Ä‡§™‡•Å‡§∞‡§µ‡§†‡§æ ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§®‡§≥ ‡§™‡§æ‡§£‡•Ä‡§™‡•Å‡§∞‡§µ‡§†‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ", "‡§ú‡§≤‡§∏‡§Ç‡§ß‡§æ‡§∞‡§£ ‡§ï‡§æ‡§Æ‡•á", "‡§µ‡§ø‡§π‡•Ä‡§∞ ‡§™‡•Å‡§®‡§∞‡•ç‡§≠‡§∞‡§£"] },
        { title: "‡•≠. ‡§¨‡§æ‡§Ç‡§ß‡§ï‡§æ‡§Æ ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∞‡§∏‡•ç‡§§‡•á ‡§¨‡§æ‡§Ç‡§ß‡§£‡•Ä", "‡§∂‡§æ‡§≥‡§æ ‡§á‡§Æ‡§æ‡§∞‡§§ ‡§¶‡•Å‡§∞‡•Å‡§∏‡•ç‡§§‡•Ä", "‡§™‡•Å‡§≤‡§æ‡§Ç‡§ö‡•á ‡§¨‡§æ‡§Ç‡§ß‡§ï‡§æ‡§Æ"] },
        { title: "‡•Æ. ‡§∏‡§Æ‡§æ‡§ú‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£ ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§Æ‡§æ‡§ó‡§æ‡§∏‡§µ‡§∞‡•ç‡§ó‡•Ä‡§Ø ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§Ø‡•ã‡§ú‡§®‡§æ", "‡§¶‡§ø‡§µ‡•ç‡§Ø‡§æ‡§Ç‡§ó ‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£ ‡§Æ‡§¶‡§§", "‡§µ‡§∏‡•ç‡§§‡•Ä ‡§∏‡•Å‡§ß‡§æ‡§∞ ‡§Ø‡•ã‡§ú‡§®‡§æ"] },
        { title: "‡•Ø. ‡§Æ‡§π‡§ø‡§≤‡§æ ‡§µ ‡§¨‡§æ‡§≤‡§µ‡§ø‡§ï‡§æ‡§∏", subs: ["‡§Ö‡§Ç‡§ó‡§£‡§µ‡§æ‡§°‡•Ä ‡§™‡•ã‡§∑‡§£ ‡§Ü‡§π‡§æ‡§∞", "‡§Æ‡§æ‡§ù‡•Ä ‡§ï‡§®‡•ç‡§Ø‡§æ ‡§≠‡§æ‡§ó‡•ç‡§Ø‡§∂‡•ç‡§∞‡•Ä", "‡§Æ‡§π‡§ø‡§≤‡§æ ‡§¨‡§ö‡§§ ‡§ó‡§ü"] },
        { title: "‡•ß‡•¶. ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§µ‡§ø‡§≠‡§æ‡§ó", subs: ["‡§ñ‡§æ‡§¶‡•Ä ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•ã‡§¶‡•ç‡§Ø‡•ã‡§ó", "‡§ï‡•å‡§∂‡§≤‡•ç‡§Ø ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£", "‡§≤‡§ò‡•Å ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä"] }
    ];

    const temp = document.getElementById('complete-form-template');
    function getTodayDate() { return new Date().toLocaleDateString('en-GB'); }

    function validateOnType(element) { element.classList.remove('invalid-field'); }

    function toggleVayaktikForm() {
        const area = document.getElementById('vayaktik-form-area');
        if (area.style.display === 'block') { area.style.display = 'none'; } 
        else {
            document.querySelectorAll('.sub-points-container, .form-area').forEach(el => el.style.display = 'none');
            if (area.innerHTML.trim() === "") {
                area.appendChild(temp.content.cloneNode(true));
                area.dataset.pointName = "‡§µ‡•à‡§Ø‡§ï‡•ç‡§§‡§ø‡§ï ‡§ï‡§æ‡§Æ‡•á";
                area.querySelector('.auto-date').value = getTodayDate();
            }
            area.style.display = 'block';
        }
    }

    const mainContent = document.getElementById('main-content');
    sections.forEach(dept => {
        let banner = document.createElement('div');
        banner.className = 'dept-banner';
        banner.innerText = dept.title;
        let subContainer = document.createElement('div');
        subContainer.className = 'sub-points-container';
        banner.onclick = () => {
            const isOpen = subContainer.style.display === 'block';
            document.querySelectorAll('.sub-points-container, .form-area').forEach(el => el.style.display = 'none');
            subContainer.style.display = isOpen ? 'none' : 'block';
        };
        dept.subs.forEach(point => {
            let box = document.createElement('div');
            box.className = 'sub-point-box';
            let head = document.createElement('div');
            head.className = 'sub-header';
            head.innerText = point;
            let body = document.createElement('div');
            body.className = 'form-area';
            body.dataset.pointName = point;
            head.onclick = () => {
                let isVisible = body.style.display === 'block';
                subContainer.querySelectorAll('.form-area').forEach(f => f.style.display = 'none');
                if (body.innerHTML === "") {
                    body.appendChild(temp.content.cloneNode(true));
                    body.querySelector('.auto-date').value = getTodayDate();
                }
                body.style.display = isVisible ? 'none' : 'block';
            };
            box.appendChild(head); box.appendChild(body); subContainer.appendChild(box);
        });
        mainContent.appendChild(banner); mainContent.appendChild(subContainer);
    });

    function submitToReceipt(btn) {
        const form = btn.closest('form');
        const formArea = btn.closest('.form-area');
        const pointName = formArea.dataset.pointName;
        const inputs = form.querySelectorAll('input[required], textarea[required]');
        let isFormValid = true;

        inputs.forEach(input => {
            if (input.type === "radio") {
                if (!form.querySelector('input[name="‡§§‡§æ‡§≤‡•Å‡§ï‡§æ"]:checked')) isFormValid = false;
            } else if (input.value.trim() === "") {
                input.classList.add('invalid-field'); isFormValid = false;
            }
        });

        if (!isFormValid) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≠‡§∞‡§æ."); return; }

        const mobileInput = form.querySelector('input[name="‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤"]');
        if (mobileInput.value.length !== 10 || isNaN(mobileInput.value)) {
            mobileInput.classList.add('invalid-field'); alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡•ß‡•¶ ‡§Ö‡§Ç‡§ï‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§ü‡§æ‡§ï‡§æ."); return;
        }

        const fd = new FormData(form);
        const urlEncodedData = new URLSearchParams();
        urlEncodedData.append("‡§Ö‡§∞‡•ç‡§ú_‡§µ‡§ø‡§∑‡§Ø", pointName);
        urlEncodedData.append("‡§®‡§æ‡§µ", fd.get("‡§®‡§æ‡§µ"));
        urlEncodedData.append("‡§™‡§§‡•ç‡§§‡§æ", fd.get("‡§™‡§§‡•ç‡§§‡§æ"));
        urlEncodedData.append("‡§§‡§æ‡§≤‡•Å‡§ï‡§æ", fd.get("‡§§‡§æ‡§≤‡•Å‡§ï‡§æ"));
        urlEncodedData.append("‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤", fd.get("‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤"));
        urlEncodedData.append("‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á_‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™", fd.get("‡§ï‡§æ‡§Æ‡§æ‡§ö‡•á_‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™"));
        urlEncodedData.append("‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï", fd.get("‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï"));

        btn.innerText = "‡§ú‡§§‡§® ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á..."; btn.disabled = true;
        fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: urlEncodedData })
        .then(() => showReceipt(urlEncodedData))
        .catch(() => { alert("‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§Ü‡§≤‡•Ä!"); btn.disabled = false; btn.innerText="‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ"; });
    }

    /* --- ‡§∏‡•Å‡§ß‡§æ‡§∞‡§ø‡§§ showReceipt ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® --- */
    function showReceipt(dataParams) {
        const portalContent = document.getElementById('portal-content');
        let rows = "";
        dataParams.forEach((value, key) => { rows += `<tr><td>${key.replace(/_/g, ' ')}</td><td>${value}</td></tr>`; });
        portalContent.innerHTML = `
            <div class="receipt-card">
                <h2 style="text-align:center; color:var(--p-blue);">‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§™‡§∞‡§ø‡§∑‡§¶</h2>
                <table class="info-table">${rows}</table>
                <div class="footer-btns">
                    <button class="btn-print" onclick="window.print()">üìÑ DOWNLOAD</button>
                    <button class="btn-back" onclick="location.reload()">‚¨ÖÔ∏è BACK </button>
                </div>
            </div>`;
        window.scrollTo(0,0);
    }
</script>
</body>
</html>